#!/bin/sh

#
# ~/.dotfiles/bin/install
# Installation script for new machines (Mac OS)
#

# Install command line tools for Xcode
xcode-select --install

# ***************************
# Homebrew
# ***************************

# Install homebrew
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"

# Update homebrew
brew update

brew install cask
brew install git
brew install yarn

# ***************************
# Crystal
# ***************************

brew install crystal-lang

# ***************************
# Scala
# ***************************

brew install scala
brew install sbt

# ***************************
# Ruby
# ***************************

# Install rvm and rails
curl -L https://get.rvm.io | bash -s stable --auto-dotfiles --autolibs=enable --rails

rvm install 2.4.1
rvm use 2.4.1 --default

# ***************************
# JavaScript
# ***************************

yarn global add jshint
yarn global add coffeelint
yarn global add grunt-cli
yarn global add typescript
yarn global add tslint
yarn global add jsxhint
yarn global add js-beautify
yarn global add tern
yarn global add bower
yarn global add eslint
yarn global add eslint-plugin-jsx-a11y
yarn global add prettier
yarn global add import-js
yarn global add babel-cli
yarn global add babel-preset-es2015
yarn global add save-dev babel-preset-react
yarn global add babel-preset-stage-0

# ***************************
# Python
# ***************************

sudo easy_install pip
pip install virtualenv

# ***************************
# Spacemacs
# ***************************

# Install Spacemacs
brew tap d12frosted/emacs-plus
brew install emacs-plus --HEAD --with-natural-title-bars
brew linkapps emacs-plus
git clone https://github.com/syl20bnr/spacemacs ~/.emacs.d
cp -r ~/.dotfiles/emacs/.emacs.d/private/* ~/.emacs.d/private/

# Install Spacemacs dependencies
git clone git@github.com:juanedi/crystal-spacemacs-layer.git ~/.emacs.d/private/crystal

# ***************************
# Dotfiles
# ***************************

# Copy dotfiles to their appropriate paths
cp ~/.dotfiles/emacs/.spacemacs/ ~/.spacemacs
cp ~/.dotfiles/vim/.vimrc ~/.vimrc
cp ~/.dotfiles/zsh/.zshrc ~/.zshrc

# ***************************
# Skeletons
# ***************************

git clone git@github.com:AndrewMcBurney/sinatra-slim-sass-coffee.git .skeletons/sinatra-slim-sass-coffee
git clone git@github.com:AndrewMcBurney/ruby-cli-activerecord.git .skeletons/ruby-cli-activerecord
git clone git@github.com:AndrewMcBurney/express-pug-sass-ts.git .skeletons/express-pug-sass-ts.git
